project(test CXX)
CMAKE_MINIMUM_REQUIRED(VERSION 3.14)

set(CMAKE_CXX_STANDARD 17)

find_package(Boost 1.70 COMPONENTS thread chrono REQUIRED)

message(STATUS "Boost version: ${Boost_VERSION_STRING}")
message(STATUS "Boost library directory: ${Boost_LIBRARY_DIRS}")
message(STATUS "Boost include directory: ${Boost_INCLUDE_DIRS}")

include_directories(${Boost_INCLUDE_DIRS})

add_executable(${PROJECT_NAME} test.cpp)

target_link_directories(${PROJECT_NAME} PUBLIC ${Boost_LIBRARY_DIRS})

if (NOT WIN32)
    message(STATUS "Building on linux/macOs")
    target_link_libraries(${PROJECT_NAME} PRIVATE dl pthread ${Boost_LIBRARIES})
elseif (MSYS OR MINGW)
    message(STATUS "Building on msys/mingw")
    target_link_libraries(${PROJECT_NAME} PRIVATE pthread ${Boost_LIBRARIES})
else ()
    message(STATUS "Building on windows")
endif ()
